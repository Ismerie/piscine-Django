{% load static %}
{% load bootstrap3 %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Chat</title>
    {% comment %} <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> {% endcomment %}
        <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    {% block style %}
        <style>
        body {
            background: linear-gradient(to right, #e6e3e2, #857e77);
        }
        .inputLg {
            border-radius: 10px;
            height: 40px;
            width: 200px;
            margin-top: 10px
        }
        .inputBtn {
            height: 30px;
            width: 60px;
            margin-top: 10px;
            border-radius: 10px
        }
        </style>
        {% endblock %}
</head>
<body class="d-flex justify-content-center align-items-center vh-100">
    <div class="main-container text-center px-4">
        <h2>Chat</h2>
        <a href="{% url 'room' 'general' %}" class="text-decoration-none">General</a><br>
        <a href="{% url 'room' 'random' %}" class="text-decoration-none">Random</a><br>
        <a href="{% url 'room' 'help' %}" class="text-decoration-none">Help</a><br><br>

        What chat room would you like to join?<br>
        <input id="room-name-input" type="text" class="inputLg  my-3" size="100"><br>
        <input id="room-name-submit" type="button" class="inputBtn"  value="Enter">
    </div>
    {% bootstrap_css %} {% bootstrap_javascript %}
    <script>
        document.querySelector('#room-name-input').focus();
        document.querySelector('#room-name-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit').click();
            }
        };

        document.querySelector('#room-name-submit').onclick = function(e) {
            var roomName = document.querySelector('#room-name-input').value;
            window.location.pathname = '/chat/' + roomName + '/';
        };
    </script>
</body>
</html>